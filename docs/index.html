<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Waypoints: A GeoBiography</title>

    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <!-- Leaflet marker cluster CSS -->
    <link rel="stylesheet" href="static/css/MarkerCluster.css" />
    <link rel="stylesheet" href="static/css/MarkerCluster.Default.css" />
    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
    <!-- Material Design Icons -->
    <link
      href="https://cdn.materialdesignicons.com/6.5.95/css/materialdesignicons.min.css"
      rel="stylesheet"
    />
    <!-- favicon -->
    <link rel="icon" href="static/images/favicon.ico" type="image/ico" />
    <!-- main CSS -->
    <link rel="stylesheet" type="text/css" href="static/css/style.css" />
  </head>
  <body>
    
    <!-- welcome modal -->
    <div id="welcome-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <i class="fas fa-map-marked-alt modal-icon"></i>
          <h1>Waypoints</h1>
          <h2>A Personal BioGeography</h2>
        </div>
        <div class="modal-body">
          <p>Welcome to my map of memories! It captures some of the experiences and places that have shaped me, while nurturing some deep contemplation and self-reflection. It's also an excellent way to bore you with my vacation photos.</p>
          <p>Feel free to toggle layers, pan, zoom, and explore. I welcome feedback, good, bad, and ugly.</p>
          <!-- <p>Short trips often tell better stories. The longer I stay somewhere, the fewer photos I take, and the less coherent the narrative becomes.</p> -->
          <!-- <p><b>Under construction:</b> Travel routes (hikes, trains, road trips, etc.) are coming soon.</p> -->
          <p>Heartfelt thanks to everyone who has shared these experiences with me!</p>
        </div>
        <div class="modal-footer">
          <p><i class="fas fa-hand-pointer"></i><br>Tap / click to continue</p>
        </div>
      </div>
    </div>

    <!-- map div - the entire body of the page -->
    <div id="map"></div>

    <!-- legend div -->
    <!-- original legend is hidden, used for cloning onto map -->
    <div id="map-legend" class="custom-legend">
      <h4>Border Color</h4>
      <div><i class="fas fa-home home-icon"></i> Residence</div>
      <div><i class="fas fa-graduation-cap school-icon"></i> Academic</div>
      <div><i class="fas fa-globe globe-icon"></i> Other</div>
      <p>Markers scaled<br>by life impact</p>
    </div>

    <!-- photo carousel for popups -->
    <template id="carousel-template">
      <div class="carousel-container">
        <div class="carousel-photos"></div>
        <div class="carousel-controls">
          <span id="prev-button" class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fas fa-chevron-left fa-stack-1x fa-inverse"></i>
          </span>
          <span id="play-pause-button" class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fas fa-pause fa-stack-1x fa-inverse"></i>
          </span>
          <span id="next-button" class="fa-stack fa-lg">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fas fa-chevron-right fa-stack-1x fa-inverse"></i>
          </span>
        </div>
      </div>
    </template>

    <!-- Leaflet -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <!-- Leaflet marker cluster -->
    <script src="static/js/leaflet.markercluster.js"></script>
    <!-- D3 -->
    <!-- <script src="https://d3js.org/d3.v7.min.js"></script> -->
    <!-- ESRI plugin for base layers -->
    <script src="https://cdn.jsdelivr.net/npm/esri-leaflet@2.3.3/dist/esri-leaflet.js"></script>
    <!-- PapaParse -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <!-- image carousel for popups -->
    <script
      type="text/javascript"
      src="static/js/image-carousel-popup.js"
    ></script>
    <!-- overlay markers -->
    <script type="text/javascript" src="static/js/overlays.js"></script>
    <!-- Main app JavaScript -->
    <script type="text/javascript" src="static/js/app.js"></script>
  </body>
</html>
